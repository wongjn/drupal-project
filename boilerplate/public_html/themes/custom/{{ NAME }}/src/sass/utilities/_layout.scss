/**
 * @file
 * Layout utilities such as margins or padding.
 */

@use '../lib/viewport';

/**
 * Creates scaling utility measurement rules.
 *
 * @param {string} $property
 *   The CSS property to make the measurement rules for.
 * @param {number[]} $measures
 *   The list of scalar number values to make individual selector-rules for.
 * @param {string} $selector
 *   (optional) Override the selector base string for each rule. Default is
 *   `.u-$property`.
 */
@mixin _offset-utility($property, $measures, $selector: '.u-#{$property}') {
  @each $measure in $measures {
    #{$selector}-#{$measure} {
      $measure-px: $measure * 1px;

      @if ($measure > 20) {
        @include viewport.scale($property, $measure-px, 20px);
      }
      @else {
        #{$property}: $measure-px;
      }
    }
  }
}

@include _offset-utility('margin-bottom', ());
@include _offset-utility('margin-top', ());
@include _offset-utility('margin-top', (), '* + .u-margin-neighbor-vertical');
@include _offset-utility('margin-left', (), '* + .u-margin-neighbor-horizontal');
